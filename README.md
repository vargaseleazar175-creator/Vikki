import time
import random

# --- –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π (–±—ã—Å—Ç—Ä—ã–π) –ø–æ–¥—Ö–æ–¥ ---

def fibonacci_iterative(n):
    """
    –í—ã—á–∏—Å–ª—è–µ—Ç n-–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É—è —Ü–∏–∫–ª). 
    –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (O(n)).
    """
    if n <= 0:
        return 0
    if n == 1:
        return 1
    
    a, b = 0, 1
    # –¶–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç n-1 –∏—Ç–µ—Ä–∞—Ü–∏—é
    for _ in range(2, n + 1):
        a, b = b, a + b
        
    return b

# --- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π (–º–µ–¥–ª–µ–Ω–Ω—ã–π) –ø–æ–¥—Ö–æ–¥ ---

def fibonacci_recursive(n):
    """
    –í—ã—á–∏—Å–ª—è–µ—Ç n-–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ. 
    –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –º–µ–¥–ª–µ–Ω–Ω—ã–π (—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π O(2^n)) –∏–∑-–∑–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.
    """
    if n <= 0:
        return 0
    if n == 1:
        return 1
    # 
    # –í—ã–∑–æ–≤ —Å–∞–º–æ–π —Å–µ–±—è –¥–≤–∞–∂–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
    return fibonacci_recursive(n - 1) + fibonacci_recursive(n - 2)

# --- –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ---

# 1. –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ N –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
# –í—ã–±–∏—Ä–∞–µ–º –Ω–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ, —á—Ç–æ–±—ã —Ä–µ–∫—É—Ä—Å–∏—è –Ω–µ –∑–∞–Ω—è–ª–∞ –≤–µ—á–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, N –¥–æ 35)
RANDOM_N = random.randint(25, 35) 

print("--- üî¨ –°–†–ê–í–ù–ï–ù–ò–ï –ê–õ–ì–û–†–ò–¢–ú–û–í –§–ò–ë–û–ù–ê–ß–ß–ò ---")
print(f"–¶–µ–ª—å: –ù–∞–π—Ç–∏ {RANDOM_N}-–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏.")
print("-" * 50)

# --- 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ò–¢–ï–†–ê–¢–ò–í–ù–û–ì–û –º–µ—Ç–æ–¥–∞ ---

start_time_iterative = time.perf_counter()
result_iterative = fibonacci_iterative(RANDOM_N)
end_time_iterative = time.perf_counter()
time_iterative = end_time_iterative - start_time_iterative

print("üöÄ –ò–¢–ï–†–ê–¢–ò–í–ù–´–ô –ú–ï–¢–û–î:")
print(f"  –†–µ–∑—É–ª—å—Ç–∞—Ç: {result_iterative}")
print(f"  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {time_iterative:.6f} —Å–µ–∫")
print("-" * 50)

# --- 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –†–ï–ö–£–†–°–ò–í–ù–û–ì–û –º–µ—Ç–æ–¥–∞ ---

start_time_recursive = time.perf_counter()
result_recursive = fibonacci_recursive(RANDOM_N)
end_time_recursive = time.perf_counter()
time_recursive = end_time_recursive - start_time_recursive

print("üê¢ –†–ï–ö–£–†–°–ò–í–ù–´–ô –ú–ï–¢–û–î:")
print(f"  –†–µ–∑—É–ª—å—Ç–∞—Ç: {result_recursive}")
print(f"  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {time_recursive:.6f} —Å–µ–∫")
print("-" * 50)

# --- 4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ ---
speed_ratio = time_recursive / time_iterative if time_iterative > 0 else 0

print(f"‚úÖ –í–´–í–û–î: –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –±—ã–ª –±—ã—Å—Ç—Ä–µ–µ –≤ {speed_ratio:.1f} —Ä–∞–∑ –ø—Ä–∏ N={RANDOM_N}.")
print(f"  (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –¥–ª—è –º–∞–ª—ã—Ö N —Ä–∞–∑–Ω–∏—Ü–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π, –Ω–æ –¥–ª—è N > 40 —Ä–µ–∫—É—Ä—Å–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –º–∏–Ω—É—Ç—ã.)")
