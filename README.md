import time
import random

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫—ç—à (—Å–ª–æ–≤–∞—Ä—å) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–∂–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
# –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–º–æ–∏–∑–∞—Ü–∏–∏.
memo_cache = {}

# --- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π (–±—ã—Å—Ç—Ä—ã–π) ---

def fibonacci_memoization(n):
    """
    –í—ã—á–∏—Å–ª—è–µ—Ç n-–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ, 
    –∏—Å–ø–æ–ª—å–∑—É—è –º–µ–º–æ–∏–∑–∞—Ü–∏—é (–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ).
    –°–ª–æ–∂–Ω–æ—Å—Ç—å O(n) –ø–æ –≤—Ä–µ–º–µ–Ω–∏.
    """
    if n in memo_cache:
        # 1. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –µ—Å—Ç—å –≤ –∫—ç—à–µ, –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ.
        return memo_cache[n]
    
    if n <= 0:
        result = 0
    elif n == 1:
        result = 1
    else:
        # 2. –í—ã—á–∏—Å–ª—è–µ–º, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∫—É—Ä—Å–∏—é
        result = fibonacci_memoization(n - 1) + fibonacci_memoization(n - 2)
        
    # 3. –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫—ç—à–µ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
    memo_cache[n] = result
    
    return result

# --- –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è) ---

def fibonacci_iterative(n):
    """(–ö–æ–ø–∏—Ä—É–µ–º –±—ã—Å—Ç—Ä—ã–π –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)"""
    if n <= 0: return 0
    if n == 1: return 1
    a, b = 0, 1
    for _ in range(2, n + 1):
        a, b = b, a + b
    return b

# --- –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ---

# –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤—ã–±–∏—Ä–∞–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–µ N (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ 80)
# –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —á–∏—Å—Ç–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏, —ç—Ç–æ –∑–∞–π–º–µ—Ç –¥–æ–ª–∏ —Å–µ–∫—É–Ω–¥—ã.
RANDOM_N = random.randint(35, 80) 

print("--- üí° –î–ò–ù–ê–ú–ò–ß–ï–°–ö–û–ï –ü–†–û–ì–†–ê–ú–ú–ò–†–û–í–ê–ù–ò–ï (–ú–ï–ú–û–ò–ó–ê–¶–ò–Ø) ---")
print(f"–¶–µ–ª—å: –ù–∞–π—Ç–∏ {RANDOM_N}-–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏.")
print("-" * 65)

# --- 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ò–¢–ï–†–ê–¢–ò–í–ù–û–ì–û –º–µ—Ç–æ–¥–∞ ---
start_time_iterative = time.perf_counter()
result_iterative = fibonacci_iterative(RANDOM_N)
end_time_iterative = time.perf_counter()
time_iterative = end_time_iterative - start_time_iterative

print("üöÄ –ò–¢–ï–†–ê–¢–ò–í–ù–´–ô –ú–ï–¢–û–î (–ë–∞–∑–æ–≤—ã–π O(n)):")
print(f"  –†–µ–∑—É–ª—å—Ç–∞—Ç: {result_iterative}")
print(f"  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {time_iterative:.6f} —Å–µ–∫")
print("-" * 65)

# --- 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ú–ï–ú–û–ò–ó–ê–¶–ò–ò (–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ) ---
# –°–Ω–∞—á–∞–ª–∞ –æ—á–∏—â–∞–µ–º –∫—ç—à –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º
memo_cache.clear()
start_time_memo = time.perf_counter()
result_memo = fibonacci_memoization(RANDOM_N)
end_time_memo = time.perf_counter()
time_memo = end_time_memo - start_time_memo

print("üß† –ú–ï–ú–û–ò–ó–ê–¶–ò–Ø (DP –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π O(n)):")
print(f"  –†–µ–∑—É–ª—å—Ç–∞—Ç: {result_memo}")
print(f"  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {time_memo:.6f} —Å–µ–∫")
print("-" * 65)

# --- 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ ---
print(f"‚úÖ –í–´–í–û–î: –ü—Ä–∏ N={RANDOM_N} –æ–±–∞ –º–µ—Ç–æ–¥–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –≤—ã—Å–æ–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å (O(n)).")
print(f"  –û–Ω–∏ –æ–±–∞ –≤–æ –º–Ω–æ–≥–æ —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —á–∏—Å—Ç–∞—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è O(2^n).")
